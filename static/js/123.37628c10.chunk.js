"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[123],{518:function(e,r,t){t.d(r,{$:function(){return n},_:function(){return a}});var n="854b2461bbe5507a6040236243f8820c",a="https://api.themoviedb.org/3"},123:function(e,r,t){t.r(r),t.d(r,{default:function(){return f}});var n=t(861),a=t(439),c=t(757),u=t.n(c),s=t(791),o=t(340),i=t(518),l=function(){var e=(0,n.Z)(u().mark((function e(r){var t,n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new URLSearchParams({api_key:i.$,language:"en-US",query:r}),e.next=4,o.Z.get("".concat(i._).concat("/search/movie","?").concat(t));case 4:return n=e.sent,a=n.data.results,e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),console.error("Error fetching movies by query:",e.t0.message),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(r){return e.apply(this,arguments)}}(),p=t(87),h=t(184),v=function(e){var r=e.movies;return(0,h.jsx)("div",{children:r.length>0?(0,h.jsx)("ul",{children:r.map((function(e){return(0,h.jsx)("li",{children:(0,h.jsxs)(p.rU,{to:"/movies/".concat(e.id),children:[(0,h.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:e.title}),(0,h.jsx)("p",{children:e.title})]})},e.id)}))}):(0,h.jsx)("p",{children:"No movies found"})})};var f=function(){var e=(0,s.useState)([]),r=(0,a.Z)(e,2),t=r[0],c=r[1],o=(0,s.useState)(""),i=(0,a.Z)(o,2),p=i[0],f=i[1],m=function(){var e=(0,n.Z)(u().mark((function e(r){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,e.next=4,l(p);case 4:t=e.sent,c(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error searching movies:",e.t0.message),c([]);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r){return e.apply(this,arguments)}}();return(0,h.jsxs)("div",{children:[(0,h.jsxs)("form",{onSubmit:m,children:[(0,h.jsx)("input",{name:"query",placeholder:"Search Movie",value:p,onChange:function(e){return f(e.target.value)}}),(0,h.jsx)("button",{type:"submit",children:"Search"})]}),(0,h.jsx)(v,{movies:t})]})}}}]);
//# sourceMappingURL=123.37628c10.chunk.js.map